var mainApp=angular.module("mainApp",["ngRoute"]);mainApp.config(["$routeProvider","$locationProvider",function(a,b){a.when("/addSong",{templateUrl:"views/routes/add_song.html",controller:"AddSongController"}).when("/customLibrary",{templateUrl:"views/routes/library_custom.html",controller:"CustomLibraryController"}).when("/standardLibrary",{templateUrl:"views/routes/library_standard.html",controller:"StandardLibraryController"}).when("/setList",{templateUrl:"views/routes/set_list.html",controller:"SetListController"}).when("/songFail",{templateUrl:"views/routes/song_fail.html",controller:"SongFailController"}).when("/songSuccess",{templateUrl:"views/routes/song_success.html",controller:"SongSuccessController"}).otherwise({templateUrl:"views/routes/welcome.html",controller:"WelcomeController"}),b.html5Mode({enabled:!0,requireBase:!1})}]),mainApp.controller("MainController",["$scope","$http",function(a,b){function c(){console.log("log out clicked"),b({url:"/logout",method:"GET"}).then(function(a){window.location.assign("http://localhost:3000")})}a.logOut=c}]),mainApp.controller("WelcomeController",function(){}),mainApp.controller("AddSongController",["$http","$location","$scope",function(a,b,c){function d(){a({url:"/addSong",method:"POST",data:c.song}).then(function(a){console.log(a),b.path("/songSuccess")},function(a){console.log("Error",a.status),b.path("/songFail")})}c.song={},c.addSong=d}]),mainApp.controller("CustomLibraryController",["$http","$scope",function(a,b){function c(){a({method:"GET",url:"/custom_lib"}).then(function(a){console.log(a),b.customLibraryActive=a.data.active,b.customLibraryInactive=a.data.inactive,d(a.data.active),d(a.data.inactive)},function(a){console.log("Error",a.status)})}function d(a){for(var c=0;c<a.length;c++){var d=a[c].custom_song_id;b.songStatus[d]=a[c].include}console.log(b.songStatus)}function e(b){console.log("deactivate",b.custom_song_id),a({method:"POST",url:"/deactivate_custom",data:b}).then(function(a){console.log(a)},function(a){console.log("Error",a.status)})}function f(b){a({method:"POST",url:"/activate_custom",data:b})}b.customLibraryActive=[],b.customLibraryInactive=[],b.songStatus={},b.getCustom=c,b.deactivateSong=function(a){var c=a.custom_song_id;console.log("info",a),console.log("thisSongId",c),1==b.songStatus[c]?(e(a),b.songStatus[c]=!1):(f(a),b.songStatus[c]=!0)},b.activateSong=function(a){var c=a.custom_song_id;0==b.songStatus[c]?(f(a),b.songStatus[c]=!0):(e(a),b.songStatus[c]=!1)}}]),mainApp.controller("StandardLibraryController",["$http","$scope","$location","$route","$routeParams",function(a,b,c,d,e){function f(b){console.log("deactivate",b.song_id),a({method:"POST",url:"/deactivate",data:b}).then(function(a){console.log(a)},function(a){console.log("Error",a.status)})}function g(b){console.log("activate",b.song_id),a({method:"POST",url:"/activate",data:b}).then(function(a){console.log(a)},function(a){console.log("Error",a.status)})}function h(){a({method:"GET",url:"/standard_lib"}).then(function(a){console.log(a),b.libraryActive=a.data.active,b.libraryInactive=a.data.inactive,i(a.data.active),i(a.data.inactive)},function(a){console.log("Error",a)})}function i(a){for(var c=0;c<a.length;c++){var d=a[c].song_id;b.songStatus[d]=a[c].status}console.log(b.songStatus)}b.libraryActive=[],b.libraryInactive=[],b.songStatus={},b.deactivateSong=function(a){var c=a.song_id;1==b.songStatus[c]?(f(a),b.songStatus[c]=!1):(g(a),b.songStatus[c]=!0)},b.activateSong=function(a){var c=a.song_id;0==b.songStatus[c]?(g(a),b.songStatus[c]=!0):(b.deactivateSong(a),b.songStatus[c]=!1)},b.getStandard=function(){h()}}]),mainApp.controller("SetListController",["$scope","$http",function(a,b){function c(c){console.log(c),b({method:"POST",url:"/getset",data:c}).then(function(b){console.log(b),a.setResults=b.data},function(a){console.log("Error",a)})}a.setInfo={numSets:"",numSongs:""},a.setResults=[],a.getSets=c}]),mainApp.controller("SongFailController",function(){}),mainApp.controller("SongSuccessController",function(){});